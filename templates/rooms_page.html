{% extends "base.html" %}
{% block content %}
<h3>Rooms</h3>
<div class="row">
  <div class="col-md-6">
    <form method="post">
      {{ form.hidden_tag() }}
      <div class="mb-2">{{ form.room_no.label }} {{ form.room_no(class="form-control") }}</div>
      <div class="mb-2">{{ form.capacity.label }} {{ form.capacity(class="form-control") }}</div>
      <div class="mb-2">{{ form.block.label }} {{ form.block(class="form-control") }}</div>
      <div>{{ form.submit(class="btn btn-success") }}</div>
    </form>
  </div>
</div>

<hr>
<h5>Existing Rooms</h5>
<table class="table table-sm">
  <thead><tr><th>Room</th><th>Block</th><th>Capacity</th><th>Occupants</th><th>Actions</th></tr></thead>
  <tbody>
    {% for r in rooms %}
      <tr>
        <td>{{ r.room_no }}</td>
        <td>{{ r.block }}</td>
        <td>{{ r.capacity }}</td>
        <td>{{ r.occupants }}</td>
        <td>
          <form method="post" action="{{ url_for('delete_room', room_id=r.id) }}" style="display:inline">
            <button class="btn btn-sm btn-danger">Delete</button>
          </form>
        </td>
      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
